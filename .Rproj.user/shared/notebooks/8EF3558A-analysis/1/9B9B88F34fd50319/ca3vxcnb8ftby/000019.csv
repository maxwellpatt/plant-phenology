"0","# generate a list of file paths for Landsat"
"0","files <- list.files(here(""data""), pattern = ""*.tif"", full.names = TRUE)"
"0",""
"0","# update function to create NDVI layers and stack them"
"0","create_ndvi_layer <- function(i){"
"0","  landsat <- rast(files[i])"
"0","  names(landsat) <- c(""blue"", ""green"", ""red"", ""NIR"", ""SWIR1"", ""SWIR2"")"
"0","  ndvi <- lapp(landsat[[c(4, 3)]], fun = ndvi_fun)"
"0","}"
"0",""
"0","# apply function across al files to create a stack of NDVI layers"
"0","all_ndvi <- c(create_ndvi_layer(1),"
"0","              create_ndvi_layer(2),"
"0","              create_ndvi_layer(3),"
"0","              create_ndvi_layer(4),"
"0","              create_ndvi_layer(5),"
"0","              create_ndvi_layer(6),"
"0","              create_ndvi_layer(7),"
"0","              create_ndvi_layer(8))"
"2","Warning: `/Users/maxwellpatterson/Desktop/classes/eds223/plant-phenology/data/landsat_20181103.tif.aux.xml' not recognized as a supported file format. (GDAL error 4)"
"2","Error: [rast] cannot open this file as a SpatRaster: /Users/maxwellpatterson/Desktop/classes/eds223/plant-phenology/data/landsat_20181103.tif.aux.xml
"
